from geopy.geocoders import Nominatim



### Function used to get City, State and Country based on
### longitude and latitude ###
def getLocation(latitude, longitude):
    # Converting those to string
    latitude = str(latitude)
    longitude = str(longitude)

    # Initialize Nominatim API
    geolocator = Nominatim(user_agent="geoapiExercises")


    location = geolocator.reverse(latitude+","+longitude)
    # location = list

    address = location.raw['address'] # converting to a dictionary

    city = address.get('city', '') # if city is not found, return ''
    state = address.get('state', '')
    country = address.get('country', '')
    country_code = address.get('country_code', '')
    zipcode = address.get('postcode', '')
    return city, state, country, str(country_code), str(zipcode)

